"use strict";!function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"));var t,o,n=document.querySelector("body");function i(e,t){this.trigger=e,this.modal=t,this.overlay=this.modal.querySelector(".modal__overlay"),this.closeBtn=this.modal.querySelector(".modal__close"),this.onOverlayClick=this.onOverlayClick.bind(this),this.onCloseClick=this.onCloseClick.bind(this),this.onTriggerClick=this.onTriggerClick.bind(this),this.addEventListeners()}window.addEventListener("resize",(t=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))},function(e){o&&clearTimeout(o),o=setTimeout(t,100,e)})),i.prototype.open=function(){this.modal.classList.add("js-show"),n.classList.add("js__body-no-scroll")},i.prototype.close=function(){this.modal.classList.remove("js-show"),n.classList.remove("js__body-no-scroll")},i.prototype.onOverlayClick=function(e){e.target===this.overlay&&this.close()},i.prototype.onCloseClick=function(){this.close()},i.prototype.onTriggerClick=function(){this.open()},i.prototype.addEventListeners=function(){this.overlay.addEventListener("click",this.onOverlayClick),this.closeBtn.addEventListener("click",this.onCloseClick),this.trigger.addEventListener("click",this.onTriggerClick)},window.Modal=i}(),function(){var e=document.querySelectorAll(".input-phone");if(e[0]){var t=new Inputmask("+7(999) 999-99-99");e.forEach((function(e){t.mask(e)}))}}(),function(){var e=document.querySelectorAll(".mobile-control__item-text"),t=function(e){e.preventDefault()},o=function(e){e.currentTarget.classList.add("hovered")},n=function(e){e.currentTarget.classList.remove("hovered")};e.forEach((function(e){e.addEventListener("click",t),e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",n)}))}(),function(){var e=document.querySelector(".header__bar-mobile"),t=window.pageYOffset>100,o=function(){!e.classList.contains("opened")&&e.classList.add("opened")};t&&o(),document.addEventListener("scroll",(function(){!t&&window.pageYOffset>100&&(o(),t=!0),t&&window.pageYOffset<100&&(e.classList.contains("opened")&&e.classList.remove("opened"),t=!1)}))}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsIm1vZGFsLmpzIiwicGhvbmUtbWFzay5qcyIsImFwcC1zbGlkZXMtdG9nZ2xlLmpzIiwiaGVhZGVyLmpzIl0sIm5hbWVzIjpbInZoIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJjb25jYXQiLCJmdW5jIiwidGltZXIiLCIkYm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJNb2RhbCIsInRyaWdnZXIiLCJtb2RhbCIsInRoaXMiLCJvdmVybGF5IiwiY2xvc2VCdG4iLCJvbk92ZXJsYXlDbGljayIsImJpbmQiLCJvbkNsb3NlQ2xpY2siLCJvblRyaWdnZXJDbGljayIsImFkZEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInByb3RvdHlwZSIsIm9wZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJjbG9zZSIsInJlbW92ZSIsImUiLCJ0YXJnZXQiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW0iLCJJbnB1dG1hc2siLCJmb3JFYWNoIiwiaXRlbSIsIm1hc2siLCJpdGVtcyIsIm9uSXRlbXNDbGljayIsInByZXZlbnREZWZhdWx0Iiwib25JdGVtT3ZlciIsImN1cnJlbnRUYXJnZXQiLCJvbkl0ZW1MZWF2ZSIsImhlYWRlckJhciIsImlzU2Nyb2xsZWQiLCJwYWdlWU9mZnNldCIsInNob3dIZWFkZXIiLCJjb250YWlucyJdLCJtYXBwaW5ncyI6IkFBQUEsY0NBQSxXQUNBLElBQUFBLEVBQUEsSUFBQUMsT0FBQUMsWUFDQUMsU0FBQUMsZ0JBQUFDLE1BQUFDLFlBQUEsT0FBQSxHQUFBQyxPQUFBUCxFQUFBLE9BRUEsSUFFQVEsRUFDQUMsRUFIQUMsRUFBQVAsU0FBQVEsY0FBQSxRQWlCQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBQyxLQUFBRixRQUFBQSxFQUNBRSxLQUFBRCxNQUFBQSxFQUNBQyxLQUFBQyxRQUFBRCxLQUFBRCxNQUFBSCxjQUFBLG1CQUNBSSxLQUFBRSxTQUFBRixLQUFBRCxNQUFBSCxjQUFBLGlCQUVBSSxLQUFBRyxlQUFBSCxLQUFBRyxlQUFBQyxLQUFBSixNQUNBQSxLQUFBSyxhQUFBTCxLQUFBSyxhQUFBRCxLQUFBSixNQUNBQSxLQUFBTSxlQUFBTixLQUFBTSxlQUFBRixLQUFBSixNQUdBQSxLQUFBTyxvQkFiQXJCLE9BQUFzQixpQkFBQSxVQWJBZixFQVFBLFdBQ0EsSUFBQVIsRUFBQSxJQUFBQyxPQUFBQyxZQUNBQyxTQUFBQyxnQkFBQUMsTUFBQUMsWUFBQSxPQUFBLEdBQUFDLE9BQUFQLEVBQUEsUUFSQSxTQUFBd0IsR0FDQWYsR0FBQWdCLGFBQUFoQixHQUNBQSxFQUFBaUIsV0FBQWxCLEVBQUEsSUFBQWdCLE1BeUJBWixFQUFBZSxVQUFBQyxLQUFBLFdBQ0FiLEtBQUFELE1BQUFlLFVBQUFDLElBQUEsV0FDQXBCLEVBQUFtQixVQUFBQyxJQUFBLHVCQUdBbEIsRUFBQWUsVUFBQUksTUFBQSxXQUNBaEIsS0FBQUQsTUFBQWUsVUFBQUcsT0FBQSxXQUNBdEIsRUFBQW1CLFVBQUFHLE9BQUEsdUJBR0FwQixFQUFBZSxVQUFBVCxlQUFBLFNBQUFlLEdBQ0FBLEVBQUFDLFNBQUFuQixLQUFBQyxTQUNBRCxLQUFBZ0IsU0FJQW5CLEVBQUFlLFVBQUFQLGFBQUEsV0FDQUwsS0FBQWdCLFNBR0FuQixFQUFBZSxVQUFBTixlQUFBLFdBQ0FOLEtBQUFhLFFBUUFoQixFQUFBZSxVQUFBTCxrQkFBQSxXQUNBUCxLQUFBQyxRQUFBTyxpQkFBQSxRQUFBUixLQUFBRyxnQkFDQUgsS0FBQUUsU0FBQU0saUJBQUEsUUFBQVIsS0FBQUssY0FDQUwsS0FBQUYsUUFBQVUsaUJBQUEsUUFBQVIsS0FBQU0saUJBR0FwQixPQUFBVyxNQUFBQSxFQXRFQSxHQ0FBLFdBQ0EsSUFBQXVCLEVBQUFoQyxTQUFBaUMsaUJBQUEsZ0JBRUEsR0FBQUQsRUFBQSxHQUFBLENBSUEsSUFBQUUsRUFBQSxJQUFBQyxVQUFBLHFCQUVBSCxFQUFBSSxTQUFBLFNBQUFDLEdBQ0FILEVBQUFJLEtBQUFELE9BVkEsR0NBQSxXQUNBLElBQUFFLEVBQUF2QyxTQUFBaUMsaUJBQUEsOEJBRUFPLEVBQUEsU0FBQVYsR0FDQUEsRUFBQVcsa0JBR0FDLEVBQUEsU0FBQVosR0FDQUEsRUFBQWEsY0FDQWpCLFVBQUFDLElBQUEsWUFHQWlCLEVBQUEsU0FBQWQsR0FDQUEsRUFBQWEsY0FDQWpCLFVBQUFHLE9BQUEsWUFHQVUsRUFBQUgsU0FBQSxTQUFBQyxHQUNBQSxFQUFBakIsaUJBQUEsUUFBQW9CLEdBQ0FILEVBQUFqQixpQkFBQSxhQUFBc0IsR0FDQUwsRUFBQWpCLGlCQUFBLGFBQUF3QixNQXBCQSxHQ0FBLFdBQ0EsSUFBQUMsRUFBQTdDLFNBQUFRLGNBQUEsdUJBRUFzQyxFQUFBaEQsT0FBQWlELFlBQUEsSUFFQUMsRUFBQSxZQUNBSCxFQUFBbkIsVUFBQXVCLFNBQUEsV0FDQUosRUFBQW5CLFVBQUFDLElBQUEsV0FvQkFtQixHQUNBRSxJQUdBaEQsU0FBQW9CLGlCQUFBLFVBaEJBLFlBQ0EwQixHQUFBaEQsT0FBQWlELFlBQUEsTUFDQUMsSUFDQUYsR0FBQSxHQUdBQSxHQUFBaEQsT0FBQWlELFlBQUEsTUFWQUYsRUFBQW5CLFVBQUF1QixTQUFBLFdBQ0FKLEVBQUFuQixVQUFBRyxPQUFBLFVBV0FpQixHQUFBLE1BdkJBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZoID0gd2luZG93LmlubmVySGVpZ2h0ICogMC4wMTtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgXCJcIi5jb25jYXQodmgsIFwicHhcIikpO1xuICB2YXIgJGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG5cbiAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYykge1xuICAgIHZhciB0aW1lcjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAodGltZXIpIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuYywgMTAwLCBldmVudCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgIHZhciB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgXCJcIi5jb25jYXQodmgsIFwicHhcIikpO1xuICB9XG5cbiAgO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2Uob25SZXNpemUpKTtcblxuICBmdW5jdGlvbiBNb2RhbCh0cmlnZ2VyLCBtb2RhbCkge1xuICAgIHRoaXMudHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgdGhpcy5tb2RhbCA9IG1vZGFsO1xuICAgIHRoaXMub3ZlcmxheSA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19vdmVybGF5Jyk7XG4gICAgdGhpcy5jbG9zZUJ0biA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZScpO1xuICAgIHRoaXMub25PdmVybGF5Q2xpY2sgPSB0aGlzLm9uT3ZlcmxheUNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNsb3NlQ2xpY2sgPSB0aGlzLm9uQ2xvc2VDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25UcmlnZ2VyQ2xpY2sgPSB0aGlzLm9uVHJpZ2dlckNsaWNrLmJpbmQodGhpcyk7IC8vdGhpcy5vblJlc2l6ZSA9IHRoaXMub25SZXNpemUuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCgnanMtc2hvdycpO1xuICAgICRib2R5LmNsYXNzTGlzdC5hZGQoJ2pzX19ib2R5LW5vLXNjcm9sbCcpO1xuICB9O1xuXG4gIE1vZGFsLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLXNob3cnKTtcbiAgICAkYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdqc19fYm9keS1uby1zY3JvbGwnKTtcbiAgfTtcblxuICBNb2RhbC5wcm90b3R5cGUub25PdmVybGF5Q2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5vdmVybGF5KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIE1vZGFsLnByb3RvdHlwZS5vbkNsb3NlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9O1xuXG4gIE1vZGFsLnByb3RvdHlwZS5vblRyaWdnZXJDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfTsgLy8gTW9kYWwucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIC8vICAgICBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xuICAvLyAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgYCR7dmh9cHhgKTtcbiAgLy8gfTtcblxuXG4gIE1vZGFsLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uT3ZlcmxheUNsaWNrKTtcbiAgICB0aGlzLmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsb3NlQ2xpY2spO1xuICAgIHRoaXMudHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25UcmlnZ2VyQ2xpY2spO1xuICB9O1xuXG4gIHdpbmRvdy5Nb2RhbCA9IE1vZGFsO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC1waG9uZScpO1xuXG4gIGlmICghaW5wdXRzWzBdKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGltID0gbmV3IElucHV0bWFzayhcIis3KDk5OSkgOTk5LTk5LTk5XCIpO1xuICBpbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIGltLm1hc2soaXRlbSk7XG4gIH0pO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vYmlsZS1jb250cm9sX19pdGVtLXRleHQnKTtcblxuICB2YXIgb25JdGVtc0NsaWNrID0gZnVuY3Rpb24gb25JdGVtc0NsaWNrKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgdmFyIG9uSXRlbU92ZXIgPSBmdW5jdGlvbiBvbkl0ZW1PdmVyKGUpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdob3ZlcmVkJyk7XG4gIH07XG5cbiAgdmFyIG9uSXRlbUxlYXZlID0gZnVuY3Rpb24gb25JdGVtTGVhdmUoZSkge1xuICAgIHZhciB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyZWQnKTtcbiAgfTtcblxuICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uSXRlbXNDbGljayk7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgb25JdGVtT3Zlcik7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25JdGVtTGVhdmUpO1xuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBoZWFkZXJCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19iYXItbW9iaWxlJyk7XG4gIHZhciBpc1Njcm9sbGVkID0gd2luZG93LnBhZ2VZT2Zmc2V0ID4gMTAwO1xuXG4gIHZhciBzaG93SGVhZGVyID0gZnVuY3Rpb24gc2hvd0hlYWRlcigpIHtcbiAgICAhaGVhZGVyQmFyLmNsYXNzTGlzdC5jb250YWlucygnb3BlbmVkJykgJiYgaGVhZGVyQmFyLmNsYXNzTGlzdC5hZGQoJ29wZW5lZCcpO1xuICB9O1xuXG4gIHZhciBoaWRlSGVhZGVyID0gZnVuY3Rpb24gaGlkZUhlYWRlcigpIHtcbiAgICBoZWFkZXJCYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuZWQnKSAmJiBoZWFkZXJCYXIuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbmVkJyk7XG4gIH07XG5cbiAgdmFyIG9uU2Nyb2xsID0gZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgaWYgKCFpc1Njcm9sbGVkICYmIHdpbmRvdy5wYWdlWU9mZnNldCA+IDEwMCkge1xuICAgICAgc2hvd0hlYWRlcigpO1xuICAgICAgaXNTY3JvbGxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGlzU2Nyb2xsZWQgJiYgd2luZG93LnBhZ2VZT2Zmc2V0IDwgMTAwKSB7XG4gICAgICBoaWRlSGVhZGVyKCk7XG4gICAgICBpc1Njcm9sbGVkID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpc1Njcm9sbGVkKSB7XG4gICAgc2hvd0hlYWRlcigpO1xuICB9XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25TY3JvbGwpO1xufSkoKTsiLCIoKCkgPT4ge1xuICBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdmgnLCBgJHt2aH1weGApO1xuXG4gIGNvbnN0ICRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMpe1xuICAgIHZhciB0aW1lcjtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgaWYodGltZXIpIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuYywxMDAsZXZlbnQpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIGxldCB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdmgnLCBgJHt2aH1weGApO1xuICB9O1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZShvblJlc2l6ZSkpO1xuXG4gIGZ1bmN0aW9uIE1vZGFsICh0cmlnZ2VyLCBtb2RhbCkge1xuICAgIHRoaXMudHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgdGhpcy5tb2RhbCA9IG1vZGFsO1xuICAgIHRoaXMub3ZlcmxheSA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19vdmVybGF5Jyk7XG4gICAgdGhpcy5jbG9zZUJ0biA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZScpO1xuXG4gICAgdGhpcy5vbk92ZXJsYXlDbGljayA9IHRoaXMub25PdmVybGF5Q2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2xvc2VDbGljayA9IHRoaXMub25DbG9zZUNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblRyaWdnZXJDbGljayA9IHRoaXMub25UcmlnZ2VyQ2xpY2suYmluZCh0aGlzKTtcbiAgICAvL3RoaXMub25SZXNpemUgPSB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCgnanMtc2hvdycpO1xuICAgICRib2R5LmNsYXNzTGlzdC5hZGQoJ2pzX19ib2R5LW5vLXNjcm9sbCcpO1xuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdqcy1zaG93Jyk7XG4gICAgJGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnanNfX2JvZHktbm8tc2Nyb2xsJyk7XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUub25PdmVybGF5Q2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLm92ZXJsYXkpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUub25DbG9zZUNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLm9uVHJpZ2dlckNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH1cblxuICAvLyBNb2RhbC5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgLy8gICAgIGxldCB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XG4gIC8vICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdmgnLCBgJHt2aH1weGApO1xuICAvLyB9O1xuXG4gIE1vZGFsLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25PdmVybGF5Q2xpY2spO1xuICAgIHRoaXMuY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xvc2VDbGljayk7XG4gICAgdGhpcy50cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vblRyaWdnZXJDbGljayk7XG4gIH1cblxuICB3aW5kb3cuTW9kYWwgPSBNb2RhbDtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC1waG9uZScpO1xuXG4gIGlmICghaW5wdXRzWzBdKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgaW0gPSBuZXcgSW5wdXRtYXNrKFwiKzcoOTk5KSA5OTktOTktOTlcIik7XG5cbiAgaW5wdXRzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIGltLm1hc2soaXRlbSk7XG4gIH0pXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICBjb25zdCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGUtY29udHJvbF9faXRlbS10ZXh0Jyk7XG5cbiAgY29uc3Qgb25JdGVtc0NsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGNvbnN0IG9uSXRlbU92ZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdob3ZlcmVkJyk7XG4gIH1cblxuICBjb25zdCBvbkl0ZW1MZWF2ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyZWQnKTtcbiAgfVxuXG4gIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkl0ZW1zQ2xpY2spO1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIG9uSXRlbU92ZXIpO1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uSXRlbUxlYXZlKTtcbiAgfSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICBjb25zdCBoZWFkZXJCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19iYXItbW9iaWxlJyk7XG5cbiAgbGV0IGlzU2Nyb2xsZWQgPSB3aW5kb3cucGFnZVlPZmZzZXQgPiAxMDA7XG5cbiAgY29uc3Qgc2hvd0hlYWRlciA9IGZ1bmN0aW9uKCkge1xuICAgICFoZWFkZXJCYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuZWQnKVxuICAgICYmIGhlYWRlckJhci5jbGFzc0xpc3QuYWRkKCdvcGVuZWQnKTtcbiAgfVxuXG4gIGNvbnN0IGhpZGVIZWFkZXIgPSBmdW5jdGlvbigpIHtcbiAgICBoZWFkZXJCYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuZWQnKVxuICAgICYmIGhlYWRlckJhci5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuZWQnKTtcbiAgfVxuXG4gIGNvbnN0IG9uU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpc1Njcm9sbGVkICYmIHdpbmRvdy5wYWdlWU9mZnNldCA+IDEwMCkge1xuICAgICAgc2hvd0hlYWRlcigpO1xuICAgICAgaXNTY3JvbGxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGlzU2Nyb2xsZWQgJiYgd2luZG93LnBhZ2VZT2Zmc2V0IDwgMTAwKSB7XG4gICAgICBoaWRlSGVhZGVyKCk7XG4gICAgICBpc1Njcm9sbGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzU2Nyb2xsZWQpIHtcbiAgICBzaG93SGVhZGVyKCk7XG4gIH1cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG59KSgpO1xuIl19
