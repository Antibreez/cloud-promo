"use strict";!function(){var e=document.querySelector(".header__bg");new Parallax(e)}(),function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"));var t,n,o=document.querySelector("body");function i(e,t){this.trigger=e,this.modal=t,this.overlay=this.modal.querySelector(".modal__overlay"),this.closeBtn=this.modal.querySelector(".modal__close"),this.onOverlayClick=this.onOverlayClick.bind(this),this.onCloseClick=this.onCloseClick.bind(this),this.onTriggerClick=this.onTriggerClick.bind(this),this.addEventListeners()}window.addEventListener("resize",(t=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))},function(e){n&&clearTimeout(n),n=setTimeout(t,100,e)})),i.prototype.open=function(){this.modal.classList.add("js-show"),o.classList.add("js__body-no-scroll")},i.prototype.close=function(){this.modal.classList.remove("js-show"),o.classList.remove("js__body-no-scroll")},i.prototype.onOverlayClick=function(e){e.target===this.overlay&&this.close()},i.prototype.onCloseClick=function(){this.close()},i.prototype.onTriggerClick=function(){this.open()},i.prototype.addEventListeners=function(){this.overlay.addEventListener("click",this.onOverlayClick),this.closeBtn.addEventListener("click",this.onCloseClick),this.trigger.addEventListener("click",this.onTriggerClick)},window.Modal=i}(),function(){var e=document.querySelectorAll(".input-phone");if(e[0]){var t=new Inputmask("+7(999) 999-99-99");e.forEach((function(e){t.mask(e)}))}}(),function(){var e=document.querySelectorAll(".mobile-control__item-text"),t=function(e){e.preventDefault()},n=function(e){e.currentTarget.classList.add("hovered")},o=function(e){e.currentTarget.classList.remove("hovered")};e.forEach((function(e){e.addEventListener("click",t),e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",o)}))}(),function(){document.querySelector(".catalog__filters-list");var e=document.querySelectorAll(".catalog__item"),t=document.querySelectorAll(".catalog__filters-radio"),n=function(){e.forEach((function(e){!function(e){e.classList.contains("hidden")&&e.classList.remove("hidden")}(e)}))},o=function(t){!function(t){"all"===t?n():(n(),e.forEach((function(e){e.getAttribute("data-brand")!==t&&function(e){e.classList.contains("hidden")||e.classList.add("hidden")}(e)})))}(t.currentTarget.getAttribute("value"))};t.forEach((function(e){e.addEventListener("change",o)}))}(),new Swiper(".device-card__slider-container",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsIm1haW4uanMiLCJtb2RhbC5qcyIsInBob25lLW1hc2suanMiLCJhcHAtc2xpZGVzLXRvZ2dsZS5qcyIsImNhdGFsb2cuanMiLCJkZXZpY2Utc2xpZGVyLmpzIl0sIm5hbWVzIjpbInNjZW5lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiUGFyYWxsYXgiLCJ2aCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImNvbmNhdCIsImZ1bmMiLCJ0aW1lciIsIiRib2R5IiwiTW9kYWwiLCJ0cmlnZ2VyIiwibW9kYWwiLCJ0aGlzIiwib3ZlcmxheSIsImNsb3NlQnRuIiwib25PdmVybGF5Q2xpY2siLCJiaW5kIiwib25DbG9zZUNsaWNrIiwib25UcmlnZ2VyQ2xpY2siLCJhZGRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJwcm90b3R5cGUiLCJvcGVuIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xvc2UiLCJyZW1vdmUiLCJlIiwidGFyZ2V0IiwiaW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImltIiwiSW5wdXRtYXNrIiwiZm9yRWFjaCIsIml0ZW0iLCJtYXNrIiwiaXRlbXMiLCJvbkl0ZW1zQ2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsIm9uSXRlbU92ZXIiLCJjdXJyZW50VGFyZ2V0Iiwib25JdGVtTGVhdmUiLCJjYXJkcyIsInJhZGlvcyIsInNob3dBbGxDYXJkcyIsImNhcmQiLCJjb250YWlucyIsInNob3dDYXJkIiwib25SYWRpb0NoYW5nZSIsImJyYW5kIiwiZ2V0QXR0cmlidXRlIiwiaGlkZUNhcmQiLCJyZW5kZXJDYXJkcyIsInJhZGlvIiwiU3dpcGVyIiwibG9vcCIsInBhZ2luYXRpb24iLCJlbCIsImNsaWNrYWJsZSJdLCJtYXBwaW5ncyI6IkFBQUEsY0NBQSxXQUNBLElBQUFB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LElBQUEsVUF1QkEyQixDQUFBTixPQVFBTyxDQURBekIsRUFBQWEsY0FBQVUsYUFBQSxXQUlBUCxFQUFBVixTQUFBLFNBQUFvQixHQUNBQSxFQUFBcEMsaUJBQUEsU0FBQStCLE1BbkVBLEdDQ0EsSUFBQU0sT0FBQSxpQ0FBQSxDQUVBQyxNQUFBLEVBR0FDLFdBQUEsQ0FDQUMsR0FBQSxxQkFDQUMsV0FBQSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBzY2VuZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2JnJyk7XG4gIHZhciBwYXJhbGxheEluc3RhbmNlID0gbmV3IFBhcmFsbGF4KHNjZW5lKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aCcsIFwiXCIuY29uY2F0KHZoLCBcInB4XCIpKTtcbiAgdmFyICRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMpIHtcbiAgICB2YXIgdGltZXI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKHRpbWVyKSBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmMsIDEwMCwgZXZlbnQpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICB2YXIgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aCcsIFwiXCIuY29uY2F0KHZoLCBcInB4XCIpKTtcbiAgfVxuXG4gIDtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlKG9uUmVzaXplKSk7XG5cbiAgZnVuY3Rpb24gTW9kYWwodHJpZ2dlciwgbW9kYWwpIHtcbiAgICB0aGlzLnRyaWdnZXIgPSB0cmlnZ2VyO1xuICAgIHRoaXMubW9kYWwgPSBtb2RhbDtcbiAgICB0aGlzLm92ZXJsYXkgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fb3ZlcmxheScpO1xuICAgIHRoaXMuY2xvc2VCdG4gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UnKTtcbiAgICB0aGlzLm9uT3ZlcmxheUNsaWNrID0gdGhpcy5vbk92ZXJsYXlDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DbG9zZUNsaWNrID0gdGhpcy5vbkNsb3NlQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVHJpZ2dlckNsaWNrID0gdGhpcy5vblRyaWdnZXJDbGljay5iaW5kKHRoaXMpOyAvL3RoaXMub25SZXNpemUgPSB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoJ2pzLXNob3cnKTtcbiAgICAkYm9keS5jbGFzc0xpc3QuYWRkKCdqc19fYm9keS1uby1zY3JvbGwnKTtcbiAgfTtcblxuICBNb2RhbC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdqcy1zaG93Jyk7XG4gICAgJGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnanNfX2JvZHktbm8tc2Nyb2xsJyk7XG4gIH07XG5cbiAgTW9kYWwucHJvdG90eXBlLm9uT3ZlcmxheUNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMub3ZlcmxheSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBNb2RhbC5wcm90b3R5cGUub25DbG9zZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfTtcblxuICBNb2RhbC5wcm90b3R5cGUub25UcmlnZ2VyQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH07IC8vIE1vZGFsLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyAgICAgbGV0IHZoID0gd2luZG93LmlubmVySGVpZ2h0ICogMC4wMTtcbiAgLy8gICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aCcsIGAke3ZofXB4YCk7XG4gIC8vIH07XG5cblxuICBNb2RhbC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbk92ZXJsYXlDbGljayk7XG4gICAgdGhpcy5jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbG9zZUNsaWNrKTtcbiAgICB0aGlzLnRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uVHJpZ2dlckNsaWNrKTtcbiAgfTtcblxuICB3aW5kb3cuTW9kYWwgPSBNb2RhbDtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQtcGhvbmUnKTtcblxuICBpZiAoIWlucHV0c1swXSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBpbSA9IG5ldyBJbnB1dG1hc2soXCIrNyg5OTkpIDk5OS05OS05OVwiKTtcbiAgaW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpbS5tYXNrKGl0ZW0pO1xuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2JpbGUtY29udHJvbF9faXRlbS10ZXh0Jyk7XG5cbiAgdmFyIG9uSXRlbXNDbGljayA9IGZ1bmN0aW9uIG9uSXRlbXNDbGljayhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBvbkl0ZW1PdmVyID0gZnVuY3Rpb24gb25JdGVtT3ZlcihlKSB7XG4gICAgdmFyIHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnaG92ZXJlZCcpO1xuICB9O1xuXG4gIHZhciBvbkl0ZW1MZWF2ZSA9IGZ1bmN0aW9uIG9uSXRlbUxlYXZlKGUpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcmVkJyk7XG4gIH07XG5cbiAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkl0ZW1zQ2xpY2spO1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIG9uSXRlbU92ZXIpO1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uSXRlbUxlYXZlKTtcbiAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgZmlsdGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19maWx0ZXJzLWxpc3QnKTsgLy8gY29uc3QgYWxsUmFkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19fZmlsdGVycy1yYWRpb1t2YWx1ZT1cImFsbFwiXScpO1xuICAvLyBjb25zdCBkYWljaGlSYWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19maWx0ZXJzLXJhZGlvW3ZhbHVlPVwiZGFpY2hpXCJdJyk7XG4gIC8vIGNvbnN0IGRhaWtpblJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2ZpbHRlcnMtcmFkaW9bdmFsdWU9XCJkYWlraW5cIl0nKTtcbiAgLy8gY29uc3QgYm9zY2hSYWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19maWx0ZXJzLXJhZGlvW3ZhbHVlPVwiYm9zY2hcIl0nKTtcbiAgLy8gY29uc3QgbWlkZWFSYWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19maWx0ZXJzLXJhZGlvW3ZhbHVlPVwibWlkZWFcIl0nKTtcblxuICB2YXIgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0YWxvZ19faXRlbScpO1xuICB2YXIgcmFkaW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhdGFsb2dfX2ZpbHRlcnMtcmFkaW8nKTsgLy8gY29uc3QgZmluZENoZWNrZWRCcmFuZCA9IGZ1bmN0aW9uKCkge1xuICAvLyAgIGxldCBicmFuZCA9ICcnO1xuICAvLyAgIHJhZGlvcy5mb3JFYWNoKGZ1bmN0aW9uKHJhZGlvKSB7XG4gIC8vICAgICBpZiAocmFkaW8uY2hlY2tlZCkge1xuICAvLyAgICAgICBicmFuZCA9IHJhZGlvLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9KTtcbiAgLy8gICByZXR1cm4gYnJhbmQ7XG4gIC8vIH07XG5cbiAgdmFyIHNob3dDYXJkID0gZnVuY3Rpb24gc2hvd0NhcmQoY2FyZCkge1xuICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBoaWRlQ2FyZCA9IGZ1bmN0aW9uIGhpZGVDYXJkKGNhcmQpIHtcbiAgICBpZiAoIWNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHNob3dBbGxDYXJkcyA9IGZ1bmN0aW9uIHNob3dBbGxDYXJkcygpIHtcbiAgICBjYXJkcy5mb3JFYWNoKGZ1bmN0aW9uIChjYXJkKSB7XG4gICAgICBzaG93Q2FyZChjYXJkKTtcbiAgICB9KTtcbiAgfTsgLy8gY29uc3QgaGlkZUFsbENhcmRzID0gZnVuY3Rpb24oKSB7XG4gIC8vICAgY2FyZHMuZm9yRWFjaChmdW5jdGlvbihjYXJkKSB7XG4gIC8vICAgIGhpZGVDYXJkKGNhcmQpO1xuICAvLyAgIH0pXG4gIC8vIH07XG5cblxuICB2YXIgcmVuZGVyQ2FyZHMgPSBmdW5jdGlvbiByZW5kZXJDYXJkcyhicmFuZCkge1xuICAgIGlmIChicmFuZCA9PT0gJ2FsbCcpIHtcbiAgICAgIHNob3dBbGxDYXJkcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93QWxsQ2FyZHMoKTtcbiAgICAgIGNhcmRzLmZvckVhY2goZnVuY3Rpb24gKGNhcmQpIHtcbiAgICAgICAgaWYgKGNhcmQuZ2V0QXR0cmlidXRlKCdkYXRhLWJyYW5kJykgIT09IGJyYW5kKSB7XG4gICAgICAgICAgaGlkZUNhcmQoY2FyZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25SYWRpb0NoYW5nZSA9IGZ1bmN0aW9uIG9uUmFkaW9DaGFuZ2UoZSkge1xuICAgIHZhciBicmFuZCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgcmVuZGVyQ2FyZHMoYnJhbmQpO1xuICB9O1xuXG4gIHJhZGlvcy5mb3JFYWNoKGZ1bmN0aW9uIChyYWRpbykge1xuICAgIHJhZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uUmFkaW9DaGFuZ2UpO1xuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuZGV2aWNlLWNhcmRfX3NsaWRlci1jb250YWluZXInLCB7XG4gICAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICAgIGxvb3A6IHRydWUsXG4gICAgLy8gSWYgd2UgbmVlZCBwYWdpbmF0aW9uXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7Ly8gY29uc3QgaGVhZGVyQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYmFyLW1vYmlsZScpO1xuICAvLyBpZiAoIWhlYWRlckJhcikge1xuICAvLyAgIHJldHVybjtcbiAgLy8gfVxuICAvLyBsZXQgaXNTY3JvbGxlZCA9IHdpbmRvdy5wYWdlWU9mZnNldCA+IDEwMDtcbiAgLy8gY29uc3Qgc2hvd0hlYWRlciA9IGZ1bmN0aW9uKCkge1xuICAvLyAgICFoZWFkZXJCYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuZWQnKVxuICAvLyAgICYmIGhlYWRlckJhci5jbGFzc0xpc3QuYWRkKCdvcGVuZWQnKTtcbiAgLy8gfVxuICAvLyBjb25zdCBoaWRlSGVhZGVyID0gZnVuY3Rpb24oKSB7XG4gIC8vICAgaGVhZGVyQmFyLmNsYXNzTGlzdC5jb250YWlucygnb3BlbmVkJylcbiAgLy8gICAmJiBoZWFkZXJCYXIuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbmVkJyk7XG4gIC8vIH1cbiAgLy8gY29uc3Qgb25TY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgLy8gICBpZiAoIWlzU2Nyb2xsZWQgJiYgd2luZG93LnBhZ2VZT2Zmc2V0ID4gMTAwKSB7XG4gIC8vICAgICBzaG93SGVhZGVyKCk7XG4gIC8vICAgICBpc1Njcm9sbGVkID0gdHJ1ZTtcbiAgLy8gICB9XG4gIC8vICAgaWYgKGlzU2Nyb2xsZWQgJiYgd2luZG93LnBhZ2VZT2Zmc2V0IDwgMTAwKSB7XG4gIC8vICAgICBoaWRlSGVhZGVyKCk7XG4gIC8vICAgICBpc1Njcm9sbGVkID0gZmFsc2U7XG4gIC8vICAgfVxuICAvLyB9XG4gIC8vIGlmIChpc1Njcm9sbGVkKSB7XG4gIC8vICAgc2hvd0hlYWRlcigpO1xuICAvLyB9XG4gIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgc2NlbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19iZycpO1xuICB2YXIgcGFyYWxsYXhJbnN0YW5jZSA9IG5ldyBQYXJhbGxheChzY2VuZSk7XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgbGV0IHZoID0gd2luZG93LmlubmVySGVpZ2h0ICogMC4wMTtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgYCR7dmh9cHhgKTtcblxuICBjb25zdCAkYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcblxuICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jKXtcbiAgICB2YXIgdGltZXI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgIGlmKHRpbWVyKSBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmMsMTAwLGV2ZW50KTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgYCR7dmh9cHhgKTtcbiAgfTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2Uob25SZXNpemUpKTtcblxuICBmdW5jdGlvbiBNb2RhbCAodHJpZ2dlciwgbW9kYWwpIHtcbiAgICB0aGlzLnRyaWdnZXIgPSB0cmlnZ2VyO1xuICAgIHRoaXMubW9kYWwgPSBtb2RhbDtcbiAgICB0aGlzLm92ZXJsYXkgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fb3ZlcmxheScpO1xuICAgIHRoaXMuY2xvc2VCdG4gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UnKTtcblxuICAgIHRoaXMub25PdmVybGF5Q2xpY2sgPSB0aGlzLm9uT3ZlcmxheUNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNsb3NlQ2xpY2sgPSB0aGlzLm9uQ2xvc2VDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25UcmlnZ2VyQ2xpY2sgPSB0aGlzLm9uVHJpZ2dlckNsaWNrLmJpbmQodGhpcyk7XG4gICAgLy90aGlzLm9uUmVzaXplID0gdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoJ2pzLXNob3cnKTtcbiAgICAkYm9keS5jbGFzc0xpc3QuYWRkKCdqc19fYm9keS1uby1zY3JvbGwnKTtcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnanMtc2hvdycpO1xuICAgICRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2pzX19ib2R5LW5vLXNjcm9sbCcpO1xuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLm9uT3ZlcmxheUNsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5vdmVybGF5KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLm9uQ2xvc2VDbGljayA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5vblRyaWdnZXJDbGljayA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub3BlbigpO1xuICB9XG5cbiAgLy8gTW9kYWwucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIC8vICAgICBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xuICAvLyAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgYCR7dmh9cHhgKTtcbiAgLy8gfTtcblxuICBNb2RhbC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uT3ZlcmxheUNsaWNrKTtcbiAgICB0aGlzLmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsb3NlQ2xpY2spO1xuICAgIHRoaXMudHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25UcmlnZ2VyQ2xpY2spO1xuICB9XG5cbiAgd2luZG93Lk1vZGFsID0gTW9kYWw7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICBjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQtcGhvbmUnKTtcblxuICBpZiAoIWlucHV0c1swXSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGltID0gbmV3IElucHV0bWFzayhcIis3KDk5OSkgOTk5LTk5LTk5XCIpO1xuXG4gIGlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpbS5tYXNrKGl0ZW0pO1xuICB9KVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgY29uc3QgaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9iaWxlLWNvbnRyb2xfX2l0ZW0tdGV4dCcpO1xuXG4gIGNvbnN0IG9uSXRlbXNDbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBjb25zdCBvbkl0ZW1PdmVyID0gZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnaG92ZXJlZCcpO1xuICB9XG5cbiAgY29uc3Qgb25JdGVtTGVhdmUgPSBmdW5jdGlvbihlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcmVkJyk7XG4gIH1cblxuICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25JdGVtc0NsaWNrKTtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBvbkl0ZW1PdmVyKTtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvbkl0ZW1MZWF2ZSk7XG4gIH0pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgY29uc3QgZmlsdGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19maWx0ZXJzLWxpc3QnKTtcblxuICAvLyBjb25zdCBhbGxSYWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19maWx0ZXJzLXJhZGlvW3ZhbHVlPVwiYWxsXCJdJyk7XG4gIC8vIGNvbnN0IGRhaWNoaVJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2ZpbHRlcnMtcmFkaW9bdmFsdWU9XCJkYWljaGlcIl0nKTtcbiAgLy8gY29uc3QgZGFpa2luUmFkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ19fZmlsdGVycy1yYWRpb1t2YWx1ZT1cImRhaWtpblwiXScpO1xuICAvLyBjb25zdCBib3NjaFJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2ZpbHRlcnMtcmFkaW9bdmFsdWU9XCJib3NjaFwiXScpO1xuICAvLyBjb25zdCBtaWRlYVJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2ZpbHRlcnMtcmFkaW9bdmFsdWU9XCJtaWRlYVwiXScpO1xuXG4gIGNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhdGFsb2dfX2l0ZW0nKTtcblxuICBjb25zdCByYWRpb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0YWxvZ19fZmlsdGVycy1yYWRpbycpO1xuXG4gIC8vIGNvbnN0IGZpbmRDaGVja2VkQnJhbmQgPSBmdW5jdGlvbigpIHtcbiAgLy8gICBsZXQgYnJhbmQgPSAnJztcbiAgLy8gICByYWRpb3MuZm9yRWFjaChmdW5jdGlvbihyYWRpbykge1xuICAvLyAgICAgaWYgKHJhZGlvLmNoZWNrZWQpIHtcbiAgLy8gICAgICAgYnJhbmQgPSByYWRpby5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gIC8vICAgICB9XG4gIC8vICAgfSk7XG5cbiAgLy8gICByZXR1cm4gYnJhbmQ7XG4gIC8vIH07XG5cbiAgY29uc3Qgc2hvd0NhcmQgPSBmdW5jdGlvbihjYXJkKSB7XG4gICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGlkZUNhcmQgPSBmdW5jdGlvbihjYXJkKSB7XG4gICAgaWYgKCFjYXJkLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNob3dBbGxDYXJkcyA9IGZ1bmN0aW9uKCkge1xuICAgIGNhcmRzLmZvckVhY2goZnVuY3Rpb24oY2FyZCkge1xuICAgICAgc2hvd0NhcmQoY2FyZCk7XG4gICAgfSlcbiAgfTtcblxuICAvLyBjb25zdCBoaWRlQWxsQ2FyZHMgPSBmdW5jdGlvbigpIHtcbiAgLy8gICBjYXJkcy5mb3JFYWNoKGZ1bmN0aW9uKGNhcmQpIHtcbiAgLy8gICAgaGlkZUNhcmQoY2FyZCk7XG4gIC8vICAgfSlcbiAgLy8gfTtcblxuICBjb25zdCByZW5kZXJDYXJkcyA9IGZ1bmN0aW9uKGJyYW5kKSB7XG4gICAgaWYgKGJyYW5kID09PSAnYWxsJykge1xuICAgICAgc2hvd0FsbENhcmRzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dBbGxDYXJkcygpO1xuICAgICAgY2FyZHMuZm9yRWFjaChmdW5jdGlvbihjYXJkKSB7XG4gICAgICAgIGlmIChjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1icmFuZCcpICE9PSBicmFuZCkge1xuICAgICAgICAgIGhpZGVDYXJkKGNhcmQpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBvblJhZGlvQ2hhbmdlID0gZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IGJyYW5kID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICByZW5kZXJDYXJkcyhicmFuZCk7XG4gIH07XG5cbiAgcmFkaW9zLmZvckVhY2goZnVuY3Rpb24ocmFkaW8pIHtcbiAgICByYWRpby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvblJhZGlvQ2hhbmdlKTtcbiAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoJy5kZXZpY2UtY2FyZF9fc2xpZGVyLWNvbnRhaW5lcicsIHtcbiAgICAvLyBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gICAgbG9vcDogdHJ1ZSxcblxuICAgIC8vIElmIHdlIG5lZWQgcGFnaW5hdGlvblxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICB9LFxuICB9KTtcbn0pKCk7XG4iXX0=
